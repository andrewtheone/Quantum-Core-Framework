<?phpclass Acl extends extend{        var $db;    var $setup = false;        var $permission_id;    var $permission_data;    var $permission_row;        public function init( $permission_id = NULL )        {        if( !$this->setup )            $this->setup();                if( $permission_id )            {            $this->permission_id = $permission_id;            $this->permission_row = $this->db->acl->where('id', $this->permission_id)->fetch();            $this->permission_data = json_decode($this->permission_row->permissions, 1);            }        }            public function setName( $name )        {        $this->db->acl->where('id', $this->permission_id)->update('name', $name);        $this->init( $this->permission_id );        }        public function getName()        {        return $this->permission_row->name;        }            public function setPermission( $permission, $value )        {        $this->permission_data[ $permission ] = $value;        $this->db->acl->where('id', $this->permission_id)->update('permissions', json_encode($this->permission_data));        }        public function getPermission( $permission )        {        return (bool)( isset($this->permission_data[$permission])?$this->permission_data[$permission]:false );        }        public function createNew()        {        $this->db->acl->insert('permissions', '', 'name', '');        return new $this($this, $this->db->lastInsertId());        }            private function setup()        {        $this->loadComponent("database", "db");        $this->setup = true;        }}